<div class="select_category">
    <!-- <div class="swiper_select_show"></div> -->
    <swiper #type1 *ngIf="loading.type == 1" class="swiper-container type1" [config]="config"
        (indexChange)="type1Change($event)">
        <div *ngFor="let item of typeList.data; let i = index;let last = last" class="swiper-slide">
            <div>
                {{item.type1_name}}
            </div>
        </div>
    </swiper>
    <!-- all is out of type2 swiper -->
    <div *ngFor="let item of typeList.data; let i = index;">
        <!-- <div *ngIf="loading.type == 1 && item.type1_id != 0 && item.type1_id == search.type1"
            class="swiper_select_show"></div> -->
        <swiper #type2 *ngIf="loading.type == 1 && item.type1_id != 0 && item.type1_id == search.type1"
            class="swiper-container type1" [config]="config" (indexChange)="type2Change($event)">
            <div class="swiper-slide" *ngFor="let tpye2Item of item.type2Dto; let j = index; let last = last">
                <div>
                    {{tpye2Item.type2_name}}

                </div>
            </div>
        </swiper>
    </div>
</div>
<div class="">
    <div class="search_text">
        <mat-form-field appearance="legacy">
            <mat-label>{{show.wordSearchStr}}</mat-label>
            <input [formControl]="search.searchText" (ngModelChange)="searchChange($event)" matInput
                placeholder="Placeholder">
            <mat-hint>{{show.wordSearchDialogue}}</mat-hint>
        </mat-form-field>
        <button (click)="evalSearchNativeUrl(1)" mat-raised-button>Search</button>
    </div>
    <div class="order">
        <mat-form-field>
            <mat-label>정렬방법</mat-label>
            <mat-select (ngModelChange)="searchChange($event)" [(ngModel)]="search.order2">
                <mat-option [value]=0>
                    내림차순
                </mat-option>
                <mat-option [value]=1>
                    오름차순
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>정렬유형</mat-label>
            <mat-select (ngModelChange)="searchChange($event)" [(ngModel)]="search.order">
                <mat-option [value]=0>
                    코멘트날짜
                </mat-option>
                <mat-option [value]=1>
                    출시날짜
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>검색단어</mat-label>
            <mat-select (ngModelChange)="order3Change($event,search.order3)" [(ngModel)]="search.order3">
                <mat-option [value]=0>
                    코멘트
                </mat-option>
                <mat-option [value]=1>
                    소재
                </mat-option>
            </mat-select>
        </mat-form-field>
        <div class="clear"></div>
    </div>
    <div class="eval_eval_list">
        <div *ngFor="let item of evalData.list; let i = index; let last = last" (click) = "goToDetail(item)"  class="eval_container_01" id="eval_con_{{i}}" >
            <div class="eval_container_outer_01">
                <div class="outer_matter_01 eval_artist_date_01">
                    <div class="eval_matter_01 eval_artist_01"><span *ngFor="let artist of item.work.artistDtoList; let a_i = index; let a_last = last">{{artist.art_name}}{{a_last ? '' : ','}}</span></div>
                    <div class="eval_matter_01 eval_date_01">{{item.work.create_date|date:'yyyy-MM-dd'}}<span *ngIf = "item.work.create_end_date2 != null">~{{item.work.create_end_date2|date:'yyyy-MM-dd'}}</span></div>
                </div>
                <div class="outer_matter_01 eval_matter_01 eval_subject_01">{{item.work.subject}}</div>
                <div class="outer_matter_01 eval_type1_type2_01">
                    <div class="eval_matter_01 eval_type1_01">{{item.work.type2.type1Dto.type1_name}}</div>
                    <div class="eval_matter_01 eval_type2_01">{{item.work.type2.type2_name}}</div>
                </div>

            </div>
            <div class="eval_matter_01 eval_subjectMatter_01" [ngClass] = "item.ev_value_class_name">{{item.subjectMatter}}</div>
            <div class="eval_container_inner_01">
                <div class="eval_text_01 eval_content_text1_01">{{item.ev_text1}}</div>
                <div class="eval_evaluation_content_01">
                    <div class="arrow_01 eval_sq_arrow_01 eval_arrow_warning_01" [ngClass] = "{'active':item.ev_value == 1}"><br>W</div>
                    <div class="arrow_01 eval_arrow_01 eval_arrow_bad_01" [ngClass] = "{'active':item.ev_value == 2}"></div>
                    <div class="arrow_01 eval_arrow_01 eval_arrow_bad_01" [ngClass] = "{'active':item.ev_value == 3}"></div>
                    <div class="between_bad_good" ></div>
                    <div class="arrow_01 eval_arrow_01 eval_arrow_good_01" [ngClass] = "{'active':item.ev_value == 4}"></div>
                    <div class="arrow_01 eval_sq_arrow_01 eval_arrow_reco_01" [ngClass] = "{'active':item.ev_value == 5}"><br>R</div>
                    <div class="arrow_01 eval_arrow_01 eval_arrow_very_good_01" [ngClass] = "{'active':item.ev_value == 6}"></div>
                    <div class="arrow_01 eval_sq_arrow_01 eval_arrow_excellect_01" [ngClass] = "{'active':item.ev_value == 7}"></div>
                </div>
                <div class="eval_text_01 eval_content_text2_01">{{item.ev_text2}}</div>
            </div>
           
        </div>
        <div class="loadingSpinDiv" *ngIf="loading.search == 1">
            <div>
                <mat-spinner class="loading_spin spin1"></mat-spinner>
            </div>
        </div>
        <div class = "not_result" *ngIf="evalData.list.length ==0">검색결과가 없습니다.</div>
        <div class = "clear"></div>
    </div>
    <div *ngIf="page.evalData.totalSize > 0" class="pagination_class">
        <ngb-pagination [collectionSize]="page.evalData.totalSize" [pageSize]="page.evalData.pageSize"
            [(page)]="page.evalData.pageNum" aria-label="Default pagination"
            (pageChange)="evalSearchNativeUrl(page.evalData.pageNum)">
        </ngb-pagination>
    </div>
</div>

