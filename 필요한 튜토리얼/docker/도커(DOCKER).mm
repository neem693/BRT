<map version="freeplane 1.9.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="도커(DOCKER)" FOLDED="false" ID="ID_652907225" CREATED="1574518698807" MODIFIED="1620712714372"><hook NAME="MapStyle">
    <properties fit_to_viewport="false" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff" show_icon_for_attributes="true" show_note_icons="true"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ID="ID_271890427" ICON_SIZE="12 pt" COLOR="#000000" STYLE="fork">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" DASH="" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_271890427" STARTARROW="DEFAULT" ENDARROW="NONE"/>
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
<richcontent CONTENT-TYPE="plain/auto" TYPE="DETAILS"/>
<richcontent TYPE="NOTE" CONTENT-TYPE="plain/auto"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.selection" BACKGROUND_COLOR="#4e85f8" STYLE="bubble" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#4e85f8"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" ID="ID_67550811">
<icon BUILTIN="yes"/>
<arrowlink COLOR="#003399" TRANSPARENCY="255" DESTINATION="ID_67550811"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10 pt" SHAPE_VERTICAL_MARGIN="10 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<node TEXT="도커튜토" POSITION="right" ID="ID_332557311" CREATED="1574520985825" MODIFIED="1621917609289">
<node TEXT="https://www.tutorialspoint.com/docker/docker_hub.htm" ID="ID_1711626165" CREATED="1574520986878" MODIFIED="1574520986878" LINK="https://www.tutorialspoint.com/docker/docker_hub.htm"/>
</node>
<node TEXT="리눅스" POSITION="right" ID="ID_553498754" CREATED="1574518744778" MODIFIED="1621917609821">
<node TEXT="설치" ID="ID_127889830" CREATED="1574518764479" MODIFIED="1621917612029">
<node TEXT="https://www.tutorialspoint.com/docker/installing_docker_on_linux.htm" ID="ID_1061922675" CREATED="1574518765454" MODIFIED="1574518765454" LINK="https://www.tutorialspoint.com/docker/installing_docker_on_linux.htm"/>
<node TEXT="우분트" ID="ID_6681706" CREATED="1621917612020" MODIFIED="1621917615378">
<node TEXT="https://docs.docker.com/engine/install/ubuntu/" ID="ID_1999675615" CREATED="1611993646554" MODIFIED="1611993646554" LINK="https://docs.docker.com/engine/install/ubuntu/"/>
</node>
<node TEXT="centos" ID="ID_1378902769" CREATED="1621904729609" MODIFIED="1621904734759">
<node TEXT="https://docs.docker.com/engine/install/centos/" ID="ID_1238020835" CREATED="1621904756829" MODIFIED="1621904756829" LINK="https://docs.docker.com/engine/install/centos/"/>
</node>
</node>
</node>
<node TEXT="윈도우" POSITION="right" ID="ID_543142848" CREATED="1574518734978" MODIFIED="1621917610261">
<node TEXT="설치" ID="ID_913096715" CREATED="1574518742282" MODIFIED="1574595693926">
<node TEXT="왠만하면 docker tool box를 설치하라" ID="ID_1857593373" CREATED="1574518799074" MODIFIED="1574518807825">
<node TEXT="https://github.com/docker/toolbox/releases" ID="ID_866455414" CREATED="1574588098602" MODIFIED="1574588098602" LINK="https://github.com/docker/toolbox/releases"/>
<node TEXT="문제" ID="ID_1596214198" CREATED="1574595114812" MODIFIED="1574595116796"/>
</node>
<node TEXT="https://www.tutorialspoint.com/docker/docker_installation.htm" ID="ID_1628398906" CREATED="1574518783746" MODIFIED="1574518783746" LINK="https://www.tutorialspoint.com/docker/docker_installation.htm"/>
<node TEXT="https://docs.docker.com/docker-for-windows/" ID="ID_612131140" CREATED="1574519932754" MODIFIED="1574519932754" LINK="https://docs.docker.com/docker-for-windows/"/>
</node>
</node>
<node TEXT="도커허브" POSITION="right" ID="ID_1038660596" CREATED="1574520656645" MODIFIED="1621917606947">
<node TEXT="https://hub.docker.com/" ID="ID_1286753147" CREATED="1574520658885" MODIFIED="1574520658885" LINK="https://hub.docker.com/"/>
</node>
<node TEXT="명령어" POSITION="right" ID="ID_1032424159" CREATED="1574525945820" MODIFIED="1620698501169">
<node TEXT="docker images" ID="ID_753691210" CREATED="1574523707870" MODIFIED="1612050021636">
<node TEXT="모든 이미지" ID="ID_1227617778" CREATED="1574523712494" MODIFIED="1574523714980"/>
</node>
<node TEXT=" docker rmi ImageID" ID="ID_1718165181" CREATED="1574692391131" MODIFIED="1611996879550">
<node TEXT="도커 이미지 삭제(remove all docker images)" ID="ID_1659325146" CREATED="1574692426033" MODIFIED="1574692433960"/>
</node>
<node TEXT="docker ps" ID="ID_698013111" CREATED="1574523716082" MODIFIED="1611996878470">
<node TEXT="컨테이너" ID="ID_1728925180" CREATED="1574523718794" MODIFIED="1574523720682"/>
<node TEXT="docker ps -a" ID="ID_482795353" CREATED="1574523722850" MODIFIED="1574523731895">
<node TEXT="모든 컨테이너" ID="ID_787726847" CREATED="1574523733006" MODIFIED="1574523781334"/>
</node>
</node>
<node TEXT="docker stop 컨테이너ID" ID="ID_1382203591" CREATED="1574523819554" MODIFIED="1611996868705">
<node TEXT="컨테이너 stop" ID="ID_495037967" CREATED="1574523897184" MODIFIED="1574523900867"/>
</node>
<node TEXT="docker rm 컨테이너ID" ID="ID_390979911" CREATED="1574523904972" MODIFIED="1611996869241">
<node TEXT="컨테이너 삭제" ID="ID_1619109517" CREATED="1574523991189" MODIFIED="1574523993560"/>
</node>
<node TEXT="docker stats 컨테이너ID" ID="ID_379225031" CREATED="1574524385919" MODIFIED="1611996869615">
<node TEXT="컨테이너 통계" ID="ID_1976309472" CREATED="1574524454968" MODIFIED="1574524466793"/>
<node TEXT="이미지" ID="ID_1519464362" CREATED="1574524472250" MODIFIED="1580998133629">
<node ID="ID_569948563" CREATED="1574524474965" MODIFIED="1574688558397"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="&#xb3c4;&#xcee4;(DOCKER)_7569893185223732302.jpeg" />
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="sudo docker attach 컨테이너ID" ID="ID_1917853627" CREATED="1574525727835" MODIFIED="1620698508070" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
<node TEXT="이거 안먹힐때는" ID="ID_245426340" CREATED="1574525740245" MODIFIED="1620698508054"/>
<node TEXT="https://stackoverflow.com/questions/44733713/why-docker-attach-not-working-and-blocking-my-konsole-on-ubuntu" ID="ID_637496210" CREATED="1574525750288" MODIFIED="1620698508054" LINK="https://stackoverflow.com/questions/44733713/why-docker-attach-not-working-and-blocking-my-konsole-on-ubuntu"/>
<node TEXT="docker exec -it 컨테이너ID bash" ID="ID_1877259114" CREATED="1574525751240" MODIFIED="1620698508062"/>
</node>
<node TEXT="docker pause 컨테이너ID" ID="ID_1709287752" CREATED="1574525891817" MODIFIED="1611996870965">
<node TEXT="컨테이너 일시중지" ID="ID_498369112" CREATED="1574525900963" MODIFIED="1574525904853"/>
</node>
<node TEXT="docker unpause 컨테이너ID" ID="ID_530242465" CREATED="1574525891817" MODIFIED="1611996871495">
<node TEXT="컨테이너 다시 실행" ID="ID_64387864" CREATED="1574525900963" MODIFIED="1574525923344"/>
</node>
<node TEXT="docker kill 컨테이너ID" ID="ID_1696086037" CREATED="1574525891817" MODIFIED="1611996871880">
<node TEXT="컨테이너 강제종료" ID="ID_661299190" CREATED="1574525900963" MODIFIED="1574525964913"/>
</node>
<node TEXT="docker container start 컨테이너ID" ID="ID_1036335547" CREATED="1604479688406" MODIFIED="1604479703323"/>
<node TEXT="docker run 이미지이름" ID="ID_544946247" CREATED="1574860607552" MODIFIED="1620642408686">
<node TEXT="예" FOLDED="true" ID="ID_1393889830" CREATED="1604477691062" MODIFIED="1611997213706">
<node TEXT="docker run -p 8080:8080 thecomment-back:1.4" ID="ID_730747244" CREATED="1604477689086" MODIFIED="1604477689086"/>
</node>
<node TEXT="docker run -p 외부포트:내부포트" ID="ID_159420090" CREATED="1580213227154" MODIFIED="1580213238998"/>
<node TEXT="docker run -v 호스트경로:컨테이너경로" FOLDED="true" ID="ID_206426267" CREATED="1604555804626" MODIFIED="1611997215646">
<node TEXT="컨테이너의 파일시스템에 분리된 내부 저장공간을 만들기 위한 것" ID="ID_1099118244" CREATED="1604555826595" MODIFIED="1604555877690"/>
<node TEXT="이렇게 저장공간을 만들어 버리면, 호스트의 파일 공간과 컨테이너의 파일공간이 동일시 된다." ID="ID_1660432632" CREATED="1604556015378" MODIFIED="1604556040058"/>
<node TEXT="-v는 줄임말" ID="ID_1621970855" CREATED="1604556048315" MODIFIED="1604556051139">
<node TEXT="--volumes-from" ID="ID_999417379" CREATED="1604556051330" MODIFIED="1604556076150"/>
<node TEXT="으로 풀수 있다." ID="ID_1757386652" CREATED="1604556077930" MODIFIED="1604556080463"/>
</node>
</node>
<node TEXT="결국 이러한 -v를 사용하면 다음과 같은 명령어를 사용할 수 있다." FOLDED="true" ID="ID_1821948009" CREATED="1604561744931" MODIFIED="1612038840078">
<node TEXT="lets encrypt 관련 내용을 포함시킨것" ID="ID_102279506" CREATED="1604561795714" MODIFIED="1604561855673" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
<node TEXT="docker run -p 80:80 -p 443:443 -v /etc/letsencrypt/:/etc/letsencrypt/ --name thecomment_front thecomment_apache:v1.4" ID="ID_1502426904" CREATED="1604561760601" MODIFIED="1604819206337">
<font NAME="SansSerif" SIZE="12"/>
</node>
<node TEXT="해당 내용은 AWS의 EC2 리눅스 참조할것" ID="ID_1175553763" CREATED="1604561929011" MODIFIED="1604561940076"/>
<node TEXT="/etc/letsencrypt/ 의 호스트 디렉토리를" ID="ID_548885356" CREATED="1604561858618" MODIFIED="1604564733381"/>
<node TEXT="/etc/letsencrypt 컨테이너 디렉토리와 동일시 하겠다는 것" ID="ID_29813006" CREATED="1604561894282" MODIFIED="1604564741850"/>
<node TEXT="디렉토리를 매우 크게 잡은 것인데, 실제사용하려고 하는 파일들은 /etc/letsencrypt/archive/[dir]/cert2.pem 등에 있다." ID="ID_980938224" CREATED="1604564997189" MODIFIED="1604566729612"/>
<node TEXT="또 최신화 되어있는 파일들은  /etc/letsencrypt/live/[dir]/cert.pem 이곳 등에 있다." ID="ID_937953845" CREATED="1604566671916" MODIFIED="1604566745596"/>
<node TEXT="최신화 되어있는 파일들은 심볼릭 링크라고 해서 바로가기로 인증서가 최신화 되는데, 볼륨을 적게 잡아버리면 바로가기 경로에 없기에  문제가 발생한다. 원할한 심볼릭 링크 바로가기를 위해서라도 볼륨을 크게 잡아버린것" ID="ID_1825849966" CREATED="1604566745866" MODIFIED="1604566882894"/>
<node TEXT="또한 볼륨을 호스트로 옮김으로써, 호스트에서 인증서를 갱신하더라도 아무런 문제가 없게 된다." ID="ID_263748624" CREATED="1604567168018" MODIFIED="1604567189912"/>
</node>
<node TEXT="htdocs 폴더 호스트로 뺀것" ID="ID_48077897" CREATED="1604819209640" MODIFIED="1604819223081">
<node TEXT="docker run -p 80:80 -p 443:443 -v /etc/letsencrypt/:/etc/letsencrypt/ -v /home/ubuntu/apache/htdocs/:/usr/local/apache2/htdocs/ thecomment_apache:v1.5" ID="ID_119626493" CREATED="1604819197006" MODIFIED="1604891634039">
<font NAME="SansSerif" SIZE="12"/>
</node>
</node>
<node TEXT="conf 파일도 빼냄" ID="ID_455590408" CREATED="1604891626782" MODIFIED="1604891631019">
<node TEXT="docker run -p 80:80 -p 443:443 -v /etc/letsencrypt/:/etc/letsencrypt/ -v /home/ubuntu/apache/htdocs/:/usr/local/apache2/htdocs/ -v /home/ubuntu/apache/conf/httpd.conf:/usr/local/apache2/conf/httpd.conf thecomment_apache:v1.5" ID="ID_1807457916" CREATED="1604891631478" MODIFIED="1604891632856" COLOR="#ff3333" BACKGROUND_COLOR="#ffffff" STYLE="bubble">
<font NAME="Dialog" SIZE="24" BOLD="true"/>
</node>
<node TEXT="docker run -p 80:80 -p 443:443 -v /etc/letsencrypt/:/etc/letsencrypt/ -v /home/ubuntu/apache/htdocs/:/usr/local/apache2/htdocs/ -v /home/ubuntu/apache/conf/httpd.conf:/usr/local/apache2/conf/httpd.conf tct_front:1.0" ID="ID_975976575" CREATED="1612049426020" MODIFIED="1612049477969"/>
</node>
<node TEXT="이거 run 할시 포트 부분에 대해서 명확히 알아야 한다." ID="ID_105862662" CREATED="1612051973286" MODIFIED="1612051984387">
<node TEXT="-p 8080:8080 이라고 한다면" ID="ID_508830478" CREATED="1612051985039" MODIFIED="1612051994377">
<node TEXT="해당 내부의 어플리케이션 포트를 뭘로 잡든 간에 8080이라는 포트로 정의해버리고" ID="ID_1443469648" CREATED="1612051995190" MODIFIED="1612052089550"/>
<node TEXT="외부의 8080이라는 포트포워딩을 내부적인 논리로 하겠다는 것이다." ID="ID_411937329" CREATED="1612052090090" MODIFIED="1612052103536"/>
</node>
<node TEXT="근데 이것을 단순히 -p 8080 이 병신같이 해버린다면 당연히 문제가 발생한다." ID="ID_1796114195" CREATED="1612052112612" MODIFIED="1612052130144"/>
<node TEXT="내부 어플리케이션의 포트를 강제할 수 없기 때문에 병신이 되는것" ID="ID_323387362" CREATED="1612052131560" MODIFIED="1612052150940"/>
</node>
</node>
</node>
<node TEXT="docker inspect 컨테이너ID" ID="ID_1584123281" CREATED="1574866641917" MODIFIED="1620698167706">
<node TEXT="https://docs.docker.com/engine/reference/commandline/inspect/" ID="ID_1963437284" CREATED="1574866652475" MODIFIED="1574866652475" LINK="https://docs.docker.com/engine/reference/commandline/inspect/"/>
<node TEXT="Return low-level information on Docker objects" ID="ID_643054445" CREATED="1574866662363" MODIFIED="1574866662363"/>
</node>
<node TEXT="docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target" FOLDED="true" ID="ID_1439258636" CREATED="1580216450631" MODIFIED="1611996897044">
<node TEXT="copy container image folder" ID="ID_1118788752" CREATED="1580216452075" MODIFIED="1580275814994"/>
<node TEXT="이걸 반대로 해도 된다." ID="ID_1546667065" CREATED="1580379211135" MODIFIED="1580379216612"/>
</node>
<node TEXT="docker cp /host/path/target &lt;containerId&gt;:/file/path/within/container" FOLDED="true" ID="ID_342485420" CREATED="1580216450631" MODIFIED="1611996891081">
<node TEXT="우분투에 있는걸 그대로 컨테이너에 꼬라박아 넣는다." ID="ID_80027891" CREATED="1580216452075" MODIFIED="1580379566332"/>
</node>
<node TEXT="docker build &lt;옵션&gt; &lt;Dockerfile 경로&gt;" FOLDED="true" ID="ID_560404148" CREATED="1580277920829" MODIFIED="1620698162174">
<node TEXT="Dockerfile 경로는 로컬 경로와 URL을 사용할 수 있고, -를 설정하면 표준 입력으로 Dockerfile 내용을 받을 수 있습니다." ID="ID_35054002" CREATED="1580277920830" MODIFIED="1580277920830"/>
<node TEXT="--force-rm=false: 이미지 생성에 실패했을 때도 임시 컨테이너를 삭제합니다." ID="ID_904658016" CREATED="1580277920832" MODIFIED="1580277920832"/>
<node TEXT="--no-cache=false: 이전 빌드에서 생성된 캐시를 사용하지 않습니다. Docker는 이미지 생성 시간을 줄이기 위해서 Dockerfile의 각 과정을 캐시하는데, 이 캐시를 사용하지 않고 처음부터 다시 이미지를 생성합니다." ID="ID_495420543" CREATED="1580277920834" MODIFIED="1580277920834"/>
<node TEXT="-q, --quiet=false: Dockerfile의 RUN이 실행한 출력 결과를 표시하지 않습니다." ID="ID_478213793" CREATED="1580277920835" MODIFIED="1580277920835"/>
<node TEXT="--rm=true: 이미지 생성에 성공했을 때 임시 컨테이너를 삭제합니다." ID="ID_727457602" CREATED="1580277920836" MODIFIED="1580277920836"/>
<node TEXT="-t, --tag=””: 저장소 이름, 이미지 이름, 태그를 설정합니다. &lt;저장소 이름&gt;/&lt;이미지 이름&gt;:&lt;태그&gt; 형식입니다." ID="ID_26500000" CREATED="1580277920836" MODIFIED="1580277920836"/>
<node TEXT="ex)" ID="ID_374802331" CREATED="1580277941429" MODIFIED="1580277942580">
<node TEXT="hello" ID="ID_1497173892" CREATED="1580277942962" MODIFIED="1580277942962"/>
<node TEXT="hello:0.1" ID="ID_996879910" CREATED="1580277942963" MODIFIED="1580277942963"/>
<node TEXT="exampleuser/hello" ID="ID_1392519973" CREATED="1580277942963" MODIFIED="1580277942963"/>
<node TEXT="exampleuser/hello:0.1" ID="ID_12502695" CREATED="1580277942964" MODIFIED="1580277942964"/>
</node>
<node TEXT="명령어 ex" ID="ID_1470740235" CREATED="1580277970524" MODIFIED="1580277974192">
<node TEXT="$ sudo docker build -t hello ." ID="ID_1443033326" CREATED="1580277964889" MODIFIED="1580277967192" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
</node>
</node>
</node>
<node TEXT="docker logs &lt;container name/id&gt;" FOLDED="true" ID="ID_306202818" CREATED="1580282707934" MODIFIED="1620642411284">
<node TEXT="해당 컨테이너의 로그를 보여줌" ID="ID_915589164" CREATED="1580282712515" MODIFIED="1580282722086" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
</node>
<node TEXT="live로 보여주기" ID="ID_1658573295" CREATED="1580282748875" MODIFIED="1580282754683" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
<node TEXT="docker logs -f &lt;CONTAINER&gt;" ID="ID_1351751999" CREATED="1580282753254" MODIFIED="1580282754682"/>
</node>
</node>
</node>
<node TEXT="도커 라이프 사이클(이미지)" FOLDED="true" POSITION="right" ID="ID_1793973735" CREATED="1574525974304" MODIFIED="1620698497523">
<node ID="ID_235964087" CREATED="1574525997043" MODIFIED="1574862706132"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <img src="&#xb3c4;&#xcee4;(DOCKER)_9155985440870372141.jpeg" />
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="도커 사용 전 -전통적 아키텍쳐" FOLDED="true" POSITION="right" ID="ID_1572115796" CREATED="1574526327102" MODIFIED="1620698497523">
<node TEXT="구조(이미지)" ID="ID_1732451224" CREATED="1574526586903" MODIFIED="1574859587856">
<node ID="ID_966138698" CREATED="1574526336081" MODIFIED="1574526591960"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <img src="&#xb3c4;&#xcee4;(DOCKER)_6206435213070219527.jpeg" />
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="설명" ID="ID_90614626" CREATED="1574526589926" MODIFIED="1574859588959">
<node TEXT="The server is the physical server that is used to host multiple virtual machines." ID="ID_1613918753" CREATED="1574526590959" MODIFIED="1574526590959"/>
<node TEXT="The Host OS is the base machine such as Linux or Windows." ID="ID_388772119" CREATED="1574526590960" MODIFIED="1574526590960"/>
<node TEXT="The Hypervisor is either VMWare or Windows Hyper V that is used to host virtual machines." ID="ID_1678916797" CREATED="1574526590961" MODIFIED="1574526590961"/>
<node TEXT="You would then install multiple operating systems as virtual machines on top of the existing hypervisor as Guest OS." ID="ID_220247864" CREATED="1574526590961" MODIFIED="1574526590961"/>
<node TEXT="You would then host your applications on top of each Guest OS." ID="ID_74347523" CREATED="1574526590964" MODIFIED="1574526590964"/>
</node>
</node>
<node TEXT="도커 사용 후 (이미지)" FOLDED="true" POSITION="right" ID="ID_525102096" CREATED="1574526397704" MODIFIED="1620698291354">
<node TEXT="구조(이미지)" ID="ID_215488902" CREATED="1574526596518" MODIFIED="1574859590643">
<node ID="ID_1393385210" CREATED="1574526573508" MODIFIED="1574526599562"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <img src="&#xb3c4;&#xcee4;(DOCKER)_1159251720164911041.jpeg" />
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="설명" ID="ID_1674850770" CREATED="1574526600526" MODIFIED="1574859591845">
<node TEXT="The server is the physical server that is used to host multiple virtual machines. So this layer remains the same." ID="ID_631605836" CREATED="1574526608901" MODIFIED="1574526608901"/>
<node TEXT="The Host OS is the base machine such as Linux or Windows. So this layer remains the same." ID="ID_532991186" CREATED="1574526608903" MODIFIED="1574526608903"/>
<node TEXT="Now comes the new generation which is the Docker engine. This is used to run the operating system which earlier used to be virtual machines as Docker containers." ID="ID_1091895851" CREATED="1574526608903" MODIFIED="1574526608903"/>
<node TEXT="All of the Apps now run as Docker containers." ID="ID_1509276595" CREATED="1574526608905" MODIFIED="1574526608905"/>
<node TEXT="The clear advantage in this architecture is that you don’t need to have extra hardware for Guest OS. Everything works as Docker containers." ID="ID_737859728" CREATED="1574526608906" MODIFIED="1574526608906"/>
</node>
</node>
<node TEXT="도커 사용후 버추어 박스 안될 때" FOLDED="true" POSITION="right" ID="ID_532788729" CREATED="1574588557493" MODIFIED="1620698290475">
<node TEXT="https://www.youtube.com/watch?v=hRl-0lcQjdU" ID="ID_325141841" CREATED="1574590378123" MODIFIED="1574590378123" LINK="https://www.youtube.com/watch?v=hRl-0lcQjdU"/>
</node>
<node TEXT="스프링부트 maven build docker" FOLDED="true" POSITION="right" ID="ID_851634636" CREATED="1574596827786" MODIFIED="1620698289595">
<node TEXT="https://codefresh.io/howtos/using-docker-maven-maven-docker/" ID="ID_1821338397" CREATED="1574597840880" MODIFIED="1574597841494" LINK="https://codefresh.io/howtos/using-docker-maven-maven-docker/"/>
<node TEXT="https://github.com/spotify/dockerfile-maven" ID="ID_1246621676" CREATED="1574597832137" MODIFIED="1574597832137" LINK="https://github.com/spotify/dockerfile-maven"/>
</node>
<node TEXT="걍 동영상 봐라(스프링부트)" POSITION="right" ID="ID_273680033" CREATED="1574606155048" MODIFIED="1621936076262" COLOR="#ff3333" BACKGROUND_COLOR="#ffffff" STYLE="bubble">
<font NAME="Dialog" SIZE="24" BOLD="true"/>
<node TEXT="https://www.youtube.com/watch?v=2v0-aIO_R08&amp;list=PLVz2XdJiJQxzMiFDnwxUDxmuZQU3igcBb&amp;index=4" ID="ID_640792693" CREATED="1574606164873" MODIFIED="1574606166186" LINK="https://www.youtube.com/watch?v=2v0-aIO_R08&amp;list=PLVz2XdJiJQxzMiFDnwxUDxmuZQU3igcBb&amp;index=4"/>
</node>
<node TEXT="도커 톰켓 와르" FOLDED="true" POSITION="right" ID="ID_1096721434" CREATED="1574864656263" MODIFIED="1620698497523">
<node TEXT="도커파일" ID="ID_1388602638" CREATED="1574864681867" MODIFIED="1574864687638">
<node TEXT="FROM tomcat:8.0.51-jre7-alpine  # docker 안의 tomcat8 셋팅, 사내 백오피스는 자바 7 사용." ID="ID_1256486125" CREATED="1574864662654" MODIFIED="1574864690414"/>
<node TEXT="ENV TZ=Asia/Seoul ## 타임존 서울로 설정 후 적용" ID="ID_686537796" CREATED="1574864662656" MODIFIED="1574864690416"/>
<node TEXT="RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone" ID="ID_563714742" CREATED="1574864662656" MODIFIED="1574864690417"/>
<node TEXT="RUN rm -Rf /usr/local/tomcat/webapps/ROOT # 기존 도커안의 tomcat의 루트 경로 삭제" ID="ID_1542228754" CREATED="1574864662657" MODIFIED="1574864690419"/>
<node TEXT="COPY target/배포후 만들어지는 WAR 파일 이름.war /usr/local/tomcat/webapps/ROOT.war # 루트 경로에 복사" ID="ID_944704024" CREATED="1574864662658" MODIFIED="1574864690421"/>
<node TEXT="ENV JAVA_OPTS=&quot;-Dserver.type=dev&quot; # 서버타입 설정, 프로퍼티 파일로 개발 운영 환경 구분.." ID="ID_1906440683" CREATED="1574864662659" MODIFIED="1574864662659"/>
</node>
<node TEXT="링크" ID="ID_1565541200" CREATED="1574864670668" MODIFIED="1574864671886">
<node TEXT="jmlim.github.io &gt; Docker &gt; 2019 &gt; 02 &gt; 19 &gt; Dockerfile-tomcat-deploy" ID="ID_1061725179" CREATED="1574864679521" MODIFIED="1574864679521" LINK="http://jmlim.github.io/docker/2019/02/19/dockerfile-tomcat-deploy/"/>
</node>
</node>
<node TEXT="아파치" FOLDED="true" POSITION="right" ID="ID_425793075" CREATED="1580280249020" MODIFIED="1620698497523">
<node TEXT="도커 허브" ID="ID_624375612" CREATED="1580280253006" MODIFIED="1580280254131">
<node TEXT="https://hub.docker.com/_/httpd/" ID="ID_1946530777" CREATED="1580280254502" MODIFIED="1580280254502" LINK="https://hub.docker.com/_/httpd/"/>
</node>
</node>
<node TEXT="도커 컨테이너에서 bash로 들어가 vi 에디터 사용하기" FOLDED="true" POSITION="right" ID="ID_1554938033" CREATED="1580287355533" MODIFIED="1620698497523">
<node TEXT="https://stackoverflow.com/questions/31515863/how-to-run-vi-on-docker-container/43043211" ID="ID_458957762" CREATED="1580287365767" MODIFIED="1580287365767" LINK="https://stackoverflow.com/questions/31515863/how-to-run-vi-on-docker-container/43043211"/>
<node TEXT="apt-get update" ID="ID_304713208" CREATED="1580287379977" MODIFIED="1580287379977"/>
<node TEXT="apt-get install vim" ID="ID_706882625" CREATED="1580287379978" MODIFIED="1580287379978"/>
</node>
<node TEXT="도커에서 시간 한국시간으로 변경하기[도커파일]" FOLDED="true" POSITION="right" ID="ID_98238046" CREATED="1581951526884" MODIFIED="1620698497523">
<node TEXT="RUN ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime" ID="ID_242227193" CREATED="1581951689123" MODIFIED="1581951689123"/>
<node TEXT="여기서 RUN이 아마도 리눅스 명령어를 치라는거 같다." ID="ID_1308164626" CREATED="1581951690820" MODIFIED="1581951701330"/>
<node TEXT="변경하는 것에 대한 설명" ID="ID_1725277321" CREATED="1581951805636" MODIFIED="1620698266107">
<node TEXT="https://twpower.github.io/95-set-ubuntu-timezone" ID="ID_455084616" CREATED="1581951826294" MODIFIED="1581951826294" LINK="https://twpower.github.io/95-set-ubuntu-timezone"/>
</node>
<node TEXT="도커에서 왜 안돼?" ID="ID_1404484911" CREATED="1581951811730" MODIFIED="1620698339303">
<node TEXT="https://stackoverflow.com/questions/53581147/unknown-instruction-sudo-when-i-try-to-build-the-docker-image" ID="ID_1793382802" CREATED="1581951804306" MODIFIED="1581951819958" LINK="https://stackoverflow.com/questions/53581147/unknown-instruction-sudo-when-i-try-to-build-the-docker-image"/>
</node>
<node TEXT="근데 썅 톰켓에서 또 바꿔줘야 하는거냐?" FOLDED="true" ID="ID_243878468" CREATED="1582294642438" MODIFIED="1620698265133">
<node TEXT="https://tetzzang.com/docker-%ED%95%9C%EA%B8%80-%EB%AC%B8%EC%A0%9C%EC%99%80-timezone-%EC%88%98%EC%A0%95%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95/" ID="ID_110467520" CREATED="1582294802298" MODIFIED="1582294802298" LINK="https://tetzzang.com/docker-%ED%95%9C%EA%B8%80-%EB%AC%B8%EC%A0%9C%EC%99%80-timezone-%EC%88%98%EC%A0%95%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95/"/>
<node TEXT="﻿https://lahuman.jabsiri.co.kr/164" ID="ID_1037750238" CREATED="1582303592806" MODIFIED="1582303592806" LINK="https://lahuman.jabsiri.co.kr/164"/>
</node>
<node TEXT="톰켓의 /bin 안에 setenv.sh 를 이용해서 해당하는 문제를 해결하면 된다." FOLDED="true" ID="ID_950754377" CREATED="1582298720720" MODIFIED="1620698263955">
<node TEXT="#!/bin/bash" ID="ID_398206586" CREATED="1582304440404" MODIFIED="1582304440404"/>
<node TEXT="export CATALINA_OPTS=&quot;$CATALINA_OPTS -Dfile.encoding=UTF8 -Duser.timezone=GMT+9&quot;" ID="ID_1461573788" CREATED="1582304440405" MODIFIED="1582304440405"/>
<node TEXT="출처: https://lahuman.jabsiri.co.kr/164 [lahuman &amp; jabsiri 노트]" ID="ID_1523454592" CREATED="1582304440406" MODIFIED="1582304440406" LINK="https://lahuman.jabsiri.co.kr/164"/>
</node>
</node>
<node TEXT="도커 로그 문제 해결[정리필요]" FOLDED="true" POSITION="right" ID="ID_752516603" CREATED="1582302840804" MODIFIED="1620698268859" COLOR="#3333ff" STYLE="bubble">
<font NAME="굴림" SIZE="16" BOLD="true"/>
<node TEXT="https://stackoverflow.com/questions/42510002/how-to-clear-the-logs-properly-for-a-docker-container" ID="ID_1654920058" CREATED="1582304118863" MODIFIED="1582304129366" LINK="https://stackoverflow.com/questions/42510002/how-to-clear-the-logs-properly-for-a-docker-container"/>
<node TEXT="정리필요" ID="ID_1717021138" CREATED="1582304123881" MODIFIED="1582304129366"/>
</node>
</node>
</map>
